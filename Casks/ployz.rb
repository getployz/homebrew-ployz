# This file was generated by GoReleaser. DO NOT EDIT.
cask "ployz" do
  name "ployz"
  desc "Ployz CLI, daemon, and runtime"
  homepage "https://github.com/getployz/ployz"
  version "0.1.0-alpha.3"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "ployz"

  on_macos do
    on_intel do
      url "https://github.com/getployz/ployz/releases/download/v#{version}/ployz_#{version}_darwin_amd64.tar.gz"
      sha256 "d78d8106550dd5ec3afad018ea23f26688a316c145c6292e3f7ace962b1cfcd0"
    end
    on_arm do
      url "https://github.com/getployz/ployz/releases/download/v#{version}/ployz_#{version}_darwin_arm64.tar.gz"
      sha256 "6326d161b789806afeec811b9d06ab38dd5f2e5830f987006caa949b031f6733"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/getployz/ployz/releases/download/v#{version}/ployz_#{version}_linux_amd64.tar.gz"
      sha256 "f9cf4244c7c0b9d099bf9f4360720986952f4a040dcb3c0aa51e6d213440d10c"
    end
    on_arm do
      url "https://github.com/getployz/ployz/releases/download/v#{version}/ployz_#{version}_linux_arm64.tar.gz"
      sha256 "e1d00a9af55325fc602b868d88ccf62be02bc5d75cb4b549fefc30d54b55bf9f"
    end
  end

  postflight do
    if OS.mac?
      %w[ployz ployzd ployz-runtime].each do |b|
        system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/#{b}"]
      end
    end
  end

  caveats do
    "The cask installs three binaries:"
    "  - ployz"
    "  - ployzd"
    "  - ployz-runtime"
    ""
    "To run daemon and runtime together in user mode:"
    "  ployz dev run"
  end

  # No zap stanza required
end
